#include "./include/pentest.h"
#include "../libs/include/nmap_scanner.h"
#include <QVBoxLayout>
#include <QHBoxLayout>
#include <QLabel>
#include <QPushButton>
#include <QGroupBox>

Pentest::Pentest(QWidget *parent) : QWidget(parent)
{
    QVBoxLayout *mainLayout = new QVBoxLayout(this);

    // Titre de la page
    QLabel *titleLabel = new QLabel("Outils de Pentest", this);
    titleLabel->setAlignment(Qt::AlignCenter);
    titleLabel->setStyleSheet("font-size: 24px; color: white; margin: 20px;");
    mainLayout->addWidget(titleLabel);

    // Layout pour les outils
    QHBoxLayout *toolsLayout = new QHBoxLayout();

    // Ajouter le scanner NMAP
    NmapScanner *nmapScanner = new NmapScanner(this);
    toolsLayout->addWidget(nmapScanner);

    // Ajouter le layout des outils au layout principal
    mainLayout->addLayout(toolsLayout);

    // Bouton retour
    QPushButton *backButton = new QPushButton("Retour Ã  l'accueil", this);
    backButton->setFixedWidth(200);
    mainLayout->addWidget(backButton, 0, Qt::AlignCenter | Qt::AlignBottom);

    connect(backButton, &QPushButton::clicked, [this]() {
        emit requestNavigateToPage("Home");
    });

    // Ajuster les marges
    mainLayout->setContentsMargins(20, 20, 20, 20);
}